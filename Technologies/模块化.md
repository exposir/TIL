# æ¨¡å—åŒ–

å¾ˆé•¿ä¸€æ®µæ—¶é—´ï¼ŒJavaScript éƒ½æ²¡æœ‰è¯­è¨€çº§ï¼ˆlanguage-levelï¼‰çš„æ¨¡å—è¯­æ³•ã€‚è¿™ä¸æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œå› ä¸ºæœ€åˆçš„è„šæœ¬åˆå°åˆç®€å•ï¼Œæ‰€ä»¥æ²¡å¿…è¦å°†å…¶æ¨¡å—åŒ–ã€‚

ä½†æ˜¯æœ€ç»ˆè„šæœ¬å˜å¾—è¶Šæ¥è¶Šå¤æ‚ï¼Œå› æ­¤ç¤¾åŒºå‘æ˜äº†è®¸å¤šç§æ–¹æ³•æ¥å°†ä»£ç ç»„ç»‡åˆ°æ¨¡å—ä¸­ï¼Œä½¿ç”¨ç‰¹æ®Šçš„åº“æŒ‰éœ€åŠ è½½æ¨¡å—ã€‚

- AMD â€”â€” æœ€å¤è€çš„æ¨¡å—ç³»ç»Ÿä¹‹ä¸€ï¼Œæœ€åˆç”± require.js åº“å®ç°ã€‚
- CommonJS â€”â€” ä¸º Node.js æœåŠ¡å™¨åˆ›å»ºçš„æ¨¡å—ç³»ç»Ÿã€‚
- UMD â€”â€” å¦å¤–ä¸€ä¸ªæ¨¡å—ç³»ç»Ÿï¼Œå»ºè®®ä½œä¸ºé€šç”¨çš„æ¨¡å—ç³»ç»Ÿï¼Œå®ƒä¸ AMD å’Œ CommonJS éƒ½å…¼å®¹ã€‚

## ä»€ä¹ˆæ˜¯æ¨¡å—ï¼Ÿ

ä¸€ä¸ªæ¨¡å—ï¼ˆmoduleï¼‰å°±æ˜¯ä¸€ä¸ªæ–‡ä»¶ã€‚ä¸€ä¸ªè„šæœ¬å°±æ˜¯ä¸€ä¸ªæ¨¡å—ã€‚å°±è¿™ä¹ˆç®€å•

- export å…³é”®å­—æ ‡è®°äº†å¯ä»¥ä»å½“å‰æ¨¡å—å¤–éƒ¨è®¿é—®çš„å˜é‡å’Œå‡½æ•°ã€‚
- import å…³é”®å­—å…è®¸ä»å…¶ä»–æ¨¡å—å¯¼å…¥åŠŸèƒ½ã€‚

```js
//say.js
function sayHi(user) {
  alert(`Hello, ${user}!`);
}

function sayBye(user) {
  alert(`Bye, ${user}!`);
}

export { sayHi, sayBye }; // å¯¼å‡ºå˜é‡åˆ—è¡¨
```

```js
//main.js
import { sayHi, sayBye } from "./say.js";

sayHi("John"); // Hello, John!
sayBye("John"); // Bye, John!
```

```js
//main.js
import * as say from "./say.js";

say.sayHi("John");
say.sayBye("John");
```

## Export default

åœ¨å®é™…ä¸­ï¼Œä¸»è¦æœ‰ä¸¤ç§æ¨¡å—ã€‚

- åŒ…å«åº“æˆ–å‡½æ•°åŒ…çš„æ¨¡å—ï¼Œåƒä¸Šé¢çš„ say.jsã€‚
- å£°æ˜å•ä¸ªå®ä½“çš„æ¨¡å—ï¼Œä¾‹å¦‚æ¨¡å— user.js ä»…å¯¼å‡º class Userã€‚

å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œå¼€å‘è€…å€¾å‘äºä½¿ç”¨ç¬¬äºŒç§æ–¹å¼ï¼Œä»¥ä¾¿æ¯ä¸ªâ€œä¸œè¥¿â€éƒ½å­˜åœ¨äºå®ƒè‡ªå·±çš„æ¨¡å—ä¸­ã€‚

å½“ç„¶ï¼Œè¿™éœ€è¦å¤§é‡æ–‡ä»¶ï¼Œå› ä¸ºæ¯ä¸ªä¸œè¥¿éƒ½éœ€è¦è‡ªå·±çš„æ¨¡å—ï¼Œä½†è¿™æ ¹æœ¬ä¸æ˜¯é—®é¢˜ã€‚å®é™…ä¸Šï¼Œå¦‚æœæ–‡ä»¶å…·æœ‰è‰¯å¥½çš„å‘½åï¼Œå¹¶ä¸”æ–‡ä»¶å¤¹ç»“æ„å¾—å½“ï¼Œé‚£ä¹ˆä»£ç å¯¼èˆªï¼ˆnavigationï¼‰ä¼šå˜å¾—æ›´å®¹æ˜“ã€‚

æ¨¡å—æä¾›äº†ä¸€ä¸ªç‰¹æ®Šçš„é»˜è®¤å¯¼å‡º export default è¯­æ³•ï¼Œä»¥ä½¿â€œä¸€ä¸ªæ¨¡å—åªåšä¸€ä»¶äº‹â€çš„æ–¹å¼çœ‹èµ·æ¥æ›´å¥½ã€‚

å°† export default æ”¾åœ¨è¦å¯¼å‡ºçš„å®ä½“å‰ï¼š

```js
// ğŸ“ user.js
export default class User {
  // åªéœ€è¦æ·»åŠ  "default" å³å¯
  constructor(name) {
    this.name = name;
  }
}
```

æ¯ä¸ªæ–‡ä»¶å¯èƒ½åªæœ‰ä¸€ä¸ª export defaultï¼š

â€¦â€¦ç„¶åå°†å…¶å¯¼å…¥è€Œä¸éœ€è¦èŠ±æ‹¬å·ï¼š

```js
//mai.js
// ğŸ“ main.js
import User from "./user.js"; // ä¸éœ€è¦èŠ±æ‹¬å· {User}ï¼Œåªéœ€è¦å†™æˆ User å³å¯

new User("John");
```

- å‘½åå¯¼å‡ºï¼š `export class User {...}` `import {User} from ...`
- é»˜è®¤å¯¼å‡ºï¼š`export default class User {...}` ` import User from ...`

## é»˜è®¤å¯¼å‡ºå’Œå‘½åå¯¼å‡ºæ··åˆ

```js
// ğŸ“ user.js
export default class User {
  constructor(name) {
    this.name = name;
  }
}

export function sayHi(user) {
  alert(`Hello, ${user}!`);
}
```

```js
// ğŸ“ main.js
import { default as User, sayHi } from "./user.js";

new User("John");
```

```js
// ğŸ“ main.js
import * as user from "./user.js";

let User = user.default; // é»˜è®¤çš„å¯¼å‡º
new User("John");
```

## åŠ¨æ€å¯¼å…¥

### å‘½åå€’å…¥

```js
// ğŸ“ say.js
export function hi() {
  alert(`Hello`);
}

export function bye() {
  alert(`Bye`);
}
```

```js
let { hi, bye } = await import("./say.js");

hi();
bye();
```

### åŠ¨æ€å¯¼å…¥

```js
// ğŸ“ say.js
export default function () {
  alert("Module loaded (export default)!");
}
```

â€¦â€¦é‚£ä¹ˆï¼Œä¸ºäº†è®¿é—®å®ƒï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ¨¡å—å¯¹è±¡çš„ default å±æ€§ï¼š

```js
let obj = await import("./say.js");
let say = obj.default;
// or, in one line: let {default: say} = await import('./say.js');

say();
```
